# Benefit generator (rule-based MVP). Replace with LLM later.
from typing import List

DEFAULTS = {
    "Одежда": [
        ("Комфортная посадка", "Эргономичный крой и мягкая ткань"),
        ("Дышащий материал", "Комфорт в течение всего дня"),
        ("Устойчива к износу", "Сохраняет вид после множества стирок"),
    ],
    "Обувь": [
        ("Амортизация и поддержка", "Снижает нагрузку на стопу"),
        ("Прочный верх", "Выдерживает ежедневную носку"),
        ("Нескользящая подошва", "Уверенность на любом покрытии"),
    ],
    "Аксессуары": [
        ("Компактный формат", "Вместительный и лёгкий"),
        ("Качественная фурнитура", "Надёжные молнии и замки"),
        ("Износостойкие материалы", "Долго сохраняет вид"),
    ],
    "Электроника": [
        ("Долгая автономность", "Работает до 12 часов без подзарядки"),
        ("Компактный корпус", "Удобно брать с собой"),
        ("Интуитивное управление", "Подходит новичкам"),
    ],
    "Дом и кухня": [
        ("Практичный дизайн", "Удобно пользоваться каждый день"),
        ("Лёгкая очистка", "Достаточно протереть"),
        ("Экологичные материалы", "Безопасно для семьи"),
    ],
    "Красота": [
        ("Удобная форма", "Легко держать и использовать"),
        ("Гигиенично", "Простая очистка"),
        ("Продуманные детали", "Продлевает срок службы"),
    ],
    "Прочее": [
        ("Высокое качество", "Надёжные материалы и сборка"),
        ("Продуманный дизайн", "Функционально и красиво"),
        ("Готово к подарку", "Подойдёт для любого случая"),
    ],
}

def generate_benefits(category_id: str, tone: str = "concise", max_items: int = 5):
    base = DEFAULTS.get(category_id, DEFAULTS["Прочее"])
    items = [{"title": t, "short_text": d} for t, d in base][:max_items]
    # tone hooks (MVP)
    if tone == "short":
        for it in items:
            it["short_text"] = it["short_text"].split(".")[0]
    elif tone == "detailed":
        for it in items:
            it["short_text"] = it["short_text"] + ". Подробности в описании."
    return items
